@page "/"
@using BlazorApp1.Client.Layout
<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.



<EditForm Model="@usuario" OnValidSubmit="Cadastrar" FormName="Cadastro">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <InputText id="nome" @bind-Value="@usuario.Nome" placeholder="Nome" />
    <br />
    <InputText id="sobrenome" @bind-Value="@usuario.Sobrenome" placeholder="Sobrenome" />
    <br />
    <InputText id="email" type="email" @bind-Value="@usuario.Email" placeholder="E-mail" />
    <br />
    <InputText id="telefone" @bind-Value="@usuario.Telefone" placeholder="Telefone" />
    <br />
    <InputText id="senha" @bind-Value="@usuario.Senha" type="password" placeholder="Senha" />
    <br />
    <button type="submit">Salvar</button>
</EditForm>

@code {
    UsuarioViewModel usuario = new UsuarioViewModel();

    public async Task Cadastrar(EditContext context)
    {
        await _usuarioViewService.CriarUsuarioAsync(usuario);
        Console.WriteLine($"Nome: {usuario.Nome}, Email: {usuario.Email}");
    }
}